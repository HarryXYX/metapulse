org.gradle.configureondemand=true
org.gradle.parallel=false
org.gradle.caching=true

# Cycle daemons after 30m
org.gradle.daemon.idletimeout=1800000

# Conservative configuration for 8GB memory with ample headroom
# JVM memory: 2GB heap + 256MB MetaSpace (saves ~1GB vs previous)
# Single-threaded workers to minimize memory overhead
# G1GC for better memory management and lower pause times
org.gradle.jvmargs=-Xmx2048m -XX:MaxMetaspaceSize=256m -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:+DisableExplicitGC
org.gradle.workers.max=1

# Increase retries to 5 (from default of 3) and increase interval from 125ms to 1s.
# Based on this thread https://github.com/gradle/gradle/issues/4629, it's unclear
# if we should be using systemProp or not.  We're using both for now.
org.gradle.internal.repository.max.retries=5
org.gradle.internal.repository.max.tentatives=5
org.gradle.internal.repository.initial.backoff=1000
systemProp.org.gradle.internal.http.connectionTimeout=120000
systemProp.org.gradle.internal.http.socketTimeout=120000
systemProp.org.gradle.internal.repository.max.retries=5
systemProp.org.gradle.internal.repository.max.tentatives=5
systemProp.org.gradle.internal.repository.initial.backoff=1000

# Needed to publish to Nexus from a sub-module
gnsp.disableApplyOnlyOnRootProjectEnforcement=true
