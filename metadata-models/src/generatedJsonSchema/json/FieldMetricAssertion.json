{
  "definitions" : {
    "FieldMetricAssertion" : {
      "description" : "Attributes defining a field metric assertion, which asserts an expectation against\na common metric derived from the set of field / column values, for example:\nmax, min, median, null count, null percentage, unique count, unique percentage, and more.",
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "field" : {
          "description" : "The field under evaluation",
          "$ref" : "#/definitions/SchemaFieldSpec"
        },
        "metric" : {
          "description" : "The specific metric to assert against. This is the value that\nwill be obtained by applying a standard operation, such as an aggregation,\nto the selected field.",
          "$ref" : "#/definitions/FieldMetricType"
        },
        "operator" : {
          "description" : "The predicate to evaluate against the metric for the field / column.\nDepending on the operator, parameters may be required in order to successfully\nevaluate the assertion against the metric value.",
          "$ref" : "#/definitions/AssertionStdOperator"
        },
        "parameters" : {
          "default" : null,
          "description" : "Standard parameters required for the assertion. e.g. min_value, max_value, value, columns",
          "$ref" : "#/definitions/AssertionStdParameters"
        }
      },
      "required" : [ "field", "metric", "operator" ]
    },
    "SchemaFieldSpec" : {
      "description" : "Lightweight spec used for referencing a particular schema field.",
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "path" : {
          "description" : "The field path",
          "type" : "string"
        },
        "type" : {
          "description" : "The DataHub standard schema field type.",
          "type" : "string"
        },
        "nativeType" : {
          "description" : "The native field type",
          "type" : "string"
        }
      },
      "required" : [ "path", "type", "nativeType" ]
    },
    "FieldMetricType" : {
      "description" : "A standard metric that can be derived from the set of values\nfor a specific field / column of a dataset / table.",
      "enum" : [ "UNIQUE_COUNT", "UNIQUE_PERCENTAGE", "NULL_COUNT", "NULL_PERCENTAGE", "MIN", "MAX", "MEAN", "MEDIAN", "STDDEV", "NEGATIVE_COUNT", "NEGATIVE_PERCENTAGE", "ZERO_COUNT", "ZERO_PERCENTAGE", "MIN_LENGTH", "MAX_LENGTH", "EMPTY_COUNT", "EMPTY_PERCENTAGE" ]
    },
    "AssertionStdOperator" : {
      "description" : "A boolean operator that is applied on the input to an assertion, after an aggregation function has been applied.",
      "enum" : [ "BETWEEN", "LESS_THAN", "LESS_THAN_OR_EQUAL_TO", "GREATER_THAN", "GREATER_THAN_OR_EQUAL_TO", "EQUAL_TO", "NOT_EQUAL_TO", "NULL", "NOT_NULL", "CONTAIN", "END_WITH", "START_WITH", "REGEX_MATCH", "IN", "NOT_IN", "IS_TRUE", "IS_FALSE", "_NATIVE_" ]
    },
    "AssertionStdParameters" : {
      "description" : "Parameters for AssertionStdOperators.",
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "value" : {
          "default" : null,
          "description" : "The value parameter of an assertion",
          "$ref" : "#/definitions/AssertionStdParameter"
        },
        "maxValue" : {
          "default" : null,
          "description" : "The maxValue parameter of an assertion",
          "$ref" : "#/definitions/AssertionStdParameter"
        },
        "minValue" : {
          "default" : null,
          "description" : "The minValue parameter of an assertion",
          "$ref" : "#/definitions/AssertionStdParameter"
        }
      }
    },
    "AssertionStdParameter" : {
      "description" : "Single parameter for AssertionStdOperators.",
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "value" : {
          "description" : "The parameter value",
          "type" : "string"
        },
        "type" : {
          "description" : "The type of the parameter",
          "$ref" : "#/definitions/AssertionStdParameterType"
        }
      },
      "required" : [ "value", "type" ]
    },
    "AssertionStdParameterType" : {
      "enum" : [ "STRING", "NUMBER", "LIST", "SET", "UNKNOWN" ]
    }
  },
  "$ref" : "#/definitions/FieldMetricAssertion"
}