# MetaPulse - ä¼ä¸šçº§å…ƒæ•°æ®ç®¡ç†å¹³å°

> åŸºäº DataHub äºŒæ¬¡å¼€å‘çš„ All-in-One å…ƒæ•°æ®ç®¡ç†å¹³å°ï¼Œé‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„ Monorepo æ¶æ„

[![License](https://img.shields.io/badge/license-Apache%202.0-blue.svg)](LICENSE)
[![Java](https://img.shields.io/badge/Java-17-orange.svg)](https://www.oracle.com/java/technologies/javase/jdk17-archive-downloads.html)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.4.5-brightgreen.svg)](https://spring.io/projects/spring-boot)
[![React](https://img.shields.io/badge/React-17-blue.svg)](https://reactjs.org/)

---

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#-é¡¹ç›®ç®€ä»‹)
- [æ ¸å¿ƒç‰¹æ€§](#-æ ¸å¿ƒç‰¹æ€§)
- [æŠ€æœ¯æ ˆ](#-æŠ€æœ¯æ ˆ)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [å¼€å‘æ¨¡å¼](#-å¼€å‘æ¨¡å¼)
- [é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)
- [é…ç½®è¯´æ˜](#-é…ç½®è¯´æ˜)
- [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)
- [æ–‡æ¡£ç´¢å¼•](#-æ–‡æ¡£ç´¢å¼•)

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

MetaPulse æ˜¯ä¸€ä¸ªä¼ä¸šçº§å…ƒæ•°æ®ç®¡ç†å¹³å°ï¼Œæä¾›æ•°æ®å‘ç°ã€è¡€ç¼˜åˆ†æã€æ•°æ®æ²»ç†å’ŒçŸ¥è¯†å›¾è°±ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

### æ¶æ„ç‰¹ç‚¹

#### ğŸ¯ All-in-One å•ä½“æ¶æ„
- **å•ä¸€ WAR åŒ…éƒ¨ç½²**ï¼šWeb æœåŠ¡ + Kafka Consumers åˆä¸€
- **æœ¬åœ°æ–¹æ³•è°ƒç”¨**ï¼šEntityClient ä½¿ç”¨ Java å®ç°ï¼Œæ—  HTTP å¼€é”€
- **èµ„æºé«˜æ•ˆåˆ©ç”¨**ï¼šå…±äº«æ•°æ®åº“è¿æ¥æ± ã€ç¼“å­˜å’Œçº¿ç¨‹æ± 
- **ç®€åŒ–è¿ç»´ç®¡ç†**ï¼šä¸€ä¸ªè¿›ç¨‹ï¼Œæ˜“äºç›‘æ§å’Œè°ƒè¯•

#### ğŸ—ï¸ å‰åç«¯åˆ†ç¦» Monorepo
- **ç»Ÿä¸€ç‰ˆæœ¬ç®¡ç†**ï¼šå‰åç«¯ä»£ç åœ¨åŒä¸€ä»“åº“
- **ç‹¬ç«‹å¼€å‘éƒ¨ç½²**ï¼šå¯å•ç‹¬å¼€å‘ã€æµ‹è¯•å’Œæ„å»º
- **æ¸…æ™°èŒè´£åˆ’åˆ†**ï¼šbackend/ å’Œ frontend/ ç›®å½•ç»“æ„æ¸…æ™°

---

## âš¡ æ ¸å¿ƒç‰¹æ€§

- ğŸ” **æ•°æ®å‘ç°**ï¼šå¿«é€Ÿæœç´¢å’Œæµè§ˆä¼ä¸šæ•°æ®èµ„äº§
- ğŸ“Š **æ•°æ®è¡€ç¼˜**ï¼šå¯è§†åŒ–æ•°æ®æµè½¬å…³ç³»å’Œå½±å“åˆ†æ
- âœ… **æ•°æ®æ²»ç†**ï¼šæ•°æ®è´¨é‡ç›‘æ§å’Œåˆè§„æ€§ç®¡ç†
- ğŸ§  **çŸ¥è¯†å›¾è°±**ï¼šæ„å»ºä¼ä¸šæ•°æ®çŸ¥è¯†ä½“ç³»
- ğŸ¨ **å¯è§†åŒ–ç•Œé¢**ï¼šåŸºäº React + Ant Design çš„ç°ä»£åŒ– UI
- ğŸš€ **GraphQL API**ï¼šé«˜æ•ˆçš„æ•°æ®æŸ¥è¯¢æ¥å£

---

## ğŸ”§ æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| Java | 17 | ç¼–ç¨‹è¯­è¨€ |
| Spring Boot | 3.4.5 | Web æ¡†æ¶ |
| Spring Kafka | 3.3.8 | æ¶ˆæ¯é˜Ÿåˆ—é›†æˆ |
| Gradle | 8.14.3 | æ„å»ºå·¥å…· |
| PostgreSQL | 14+ | å…³ç³»å‹æ•°æ®åº“ |
| Elasticsearch | 8.11.0 | æœç´¢å¼•æ“ |
| Kafka | 7.6.0 | æ¶ˆæ¯é˜Ÿåˆ— |

### å‰ç«¯æŠ€æœ¯

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| React | 17 | UI æ¡†æ¶ |
| TypeScript | Latest | ç±»å‹ç³»ç»Ÿ |
| Vite | Latest | æ„å»ºå·¥å…· |
| Apollo Client | 3.3.19 | GraphQL å®¢æˆ·ç«¯ |
| Ant Design | 4.24.7 | UI ç»„ä»¶åº“ |
| Visx | 3.x | æ•°æ®å¯è§†åŒ– |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- **Java 17+** - [ä¸‹è½½é“¾æ¥](https://www.oracle.com/java/technologies/javase/jdk17-archive-downloads.html)
- **Node.js 18+** - [ä¸‹è½½é“¾æ¥](https://nodejs.org/)
- **Yarn** - `npm install -g yarn`
- **Docker & Docker Compose** (æœåŠ¡å™¨ç«¯) - [ä¸‹è½½é“¾æ¥](https://www.docker.com/)

### æ–¹å¼ä¸€ï¼šå®Œæ•´ Docker éƒ¨ç½²ï¼ˆæ¼”ç¤º/æµ‹è¯•ï¼‰

é€‚ç”¨äºå¿«é€Ÿä½“éªŒæˆ–ç”Ÿäº§éƒ¨ç½²ã€‚

```bash
# 1. å…‹éš†é¡¹ç›®
git clone <repository-url>
cd metapulse

# 2. æ„å»ºé¡¹ç›®
./scripts/build.sh

# 3. å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# 4. è®¿é—®åº”ç”¨
# æµè§ˆå™¨æ‰“å¼€: http://localhost:8080
```

### æ–¹å¼äºŒï¼šæœ¬åœ°å¼€å‘æ¨¡å¼ï¼ˆæ¨èï¼‰

é€‚ç”¨äºæ—¥å¸¸å¼€å‘ï¼ŒæœåŠ¡å™¨è¿è¡Œä¾èµ–æœåŠ¡ï¼Œæœ¬åœ°è¿è¡Œå‰åç«¯ã€‚

**æ­¥éª¤è¯¦è§** â†’ [å¼€å‘æ¨¡å¼](#-å¼€å‘æ¨¡å¼)

---

## ğŸ’» å¼€å‘æ¨¡å¼

### æ¶æ„è¯´æ˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æœåŠ¡å™¨ (47.80.65.112)                   â”‚
â”‚  â”œâ”€ PostgreSQL      :5432               â”‚
â”‚  â”œâ”€ Elasticsearch   :9200               â”‚
â”‚  â””â”€ Kafka          :9092                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†“  ç½‘ç»œè¿æ¥
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æœ¬åœ°å¼€å‘æœºå™¨                             â”‚
â”‚  â”œâ”€ åç«¯ (IDEA)     :8080               â”‚
â”‚  â””â”€ å‰ç«¯ (VSCode)   :3000               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ–¥ï¸ æœåŠ¡å™¨ç«¯é…ç½®

#### 1. å¼€æ”¾é˜²ç«å¢™ç«¯å£

```bash
# CentOS/RHEL
sudo firewall-cmd --permanent --add-port=5432/tcp
sudo firewall-cmd --permanent --add-port=9200/tcp
sudo firewall-cmd --permanent --add-port=9092/tcp
sudo firewall-cmd --reload

# Ubuntu/Debian
sudo ufw allow 5432/tcp
sudo ufw allow 9200/tcp
sudo ufw allow 9092/tcp
sudo ufw reload
```

#### 2. å¯åŠ¨ä¾èµ–æœåŠ¡

```bash
cd /path/to/metapulse

# å¯åŠ¨ä¾èµ–æœåŠ¡ï¼ˆä»… PostgreSQL, Elasticsearch, Kafkaï¼‰
docker-compose -f docker-compose.services.yml up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose -f docker-compose.services.yml ps
```

#### 3. éªŒè¯æœåŠ¡

```bash
# æµ‹è¯• PostgreSQL
psql -h 47.80.65.112 -U metapulse -d metapulse -p 5432

# æµ‹è¯• Elasticsearch
curl http://47.80.65.112:9200/_cluster/health

# æµ‹è¯• Kafka
echo "test" | kcat -P -b 47.80.65.112:9092 -t test-topic
```

### ğŸ’» æœ¬åœ°å¼€å‘ç¯å¢ƒ

#### åç«¯å¼€å‘ï¼ˆIntelliJ IDEAï¼‰

```bash
# 1. è¿›å…¥åç«¯ç›®å½•
cd backend

# 2. é¦–æ¬¡ç¼–è¯‘ï¼ˆå¯é€‰ï¼‰
./gradlew :metadata-service:war:classes

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
./gradlew bootRun --args='--spring.profiles.active=dev'

# æˆ–åœ¨ IDEA ä¸­åˆ›å»ºè¿è¡Œé…ç½®ï¼š
# - Main class: com.linkedin.gms.GMSApplication
# - VM options: -Xms2g -Xmx4g
# - Active profiles: dev
```

**åç«¯ä¼šè‡ªåŠ¨è¿æ¥åˆ°æœåŠ¡å™¨ (47.80.65.112) çš„ä¾èµ–æœåŠ¡ã€‚**

è®¿é—®ï¼š
- å¥åº·æ£€æŸ¥ï¼šhttp://localhost:8080/actuator/health
- GraphQL Playgroundï¼šhttp://localhost:8080/api/graphql

#### å‰ç«¯å¼€å‘ï¼ˆVSCodeï¼‰

```bash
# 1. è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# 2. å®‰è£…ä¾èµ–
yarn install

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
yarn dev

# 4. è®¿é—®åº”ç”¨
# æµè§ˆå™¨æ‰“å¼€: http://localhost:3000
```

**å‰ç«¯ä¼šè‡ªåŠ¨ä»£ç† API è¯·æ±‚åˆ°æœ¬åœ°åç«¯ (localhost:8080)ã€‚**

#### æ—¥å¸¸å·¥ä½œæµç¨‹

```bash
# 1. æœåŠ¡å™¨ç«¯ï¼šå¯åŠ¨ä¾èµ–æœåŠ¡
ssh user@47.80.65.112
cd /path/to/metapulse
docker-compose -f docker-compose.services.yml up -d

# 2. æœ¬åœ°ï¼šå¯åŠ¨åç«¯ï¼ˆTerminal 1ï¼‰
cd backend
./gradlew bootRun --args='--spring.profiles.active=dev'

# 3. æœ¬åœ°ï¼šå¯åŠ¨å‰ç«¯ï¼ˆTerminal 2ï¼‰
cd frontend
yarn dev

# 4. å¼€å§‹å¼€å‘ï¼
# å‰ç«¯: http://localhost:3000
# åç«¯ API: http://localhost:8080
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
metapulse/
â”œâ”€â”€ backend/                    # åç«¯æ ¹ç›®å½•
â”‚   â”œâ”€â”€ metadata-service/      # å…ƒæ•°æ®æœåŠ¡
â”‚   â”‚   â””â”€â”€ war/              # â­ All-in-One WAR åº”ç”¨
â”‚   â”‚       â””â”€â”€ src/main/resources/
â”‚   â”‚           â”œâ”€â”€ application.yml         # åŸºç¡€é…ç½®
â”‚   â”‚           â””â”€â”€ application-dev.yml     # å¼€å‘ç¯å¢ƒé…ç½®ï¼ˆç¡¬ç¼–ç æœåŠ¡å™¨IPï¼‰
â”‚   â”œâ”€â”€ metadata-models/       # æ•°æ®æ¨¡å‹ï¼ˆPDL å®šä¹‰ï¼‰
â”‚   â”œâ”€â”€ metadata-jobs/         # Kafka Consumersï¼ˆåµŒå…¥å¼ï¼‰
â”‚   â”œâ”€â”€ build.gradle          # Gradle æ ¹é…ç½®
â”‚   â””â”€â”€ gradlew               # Gradle Wrapper
â”‚
â”œâ”€â”€ frontend/                   # å‰ç«¯æ ¹ç›®å½•
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/              # åº”ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ graphql/          # GraphQL Schema
â”‚   â”‚   â””â”€â”€ conf/             # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ .env.development       # å¼€å‘ç¯å¢ƒå˜é‡
â”‚   â”œâ”€â”€ .env.production        # ç”Ÿäº§ç¯å¢ƒå˜é‡
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”‚
â”œâ”€â”€ scripts/                    # å·¥å…·è„šæœ¬
â”‚   â”œâ”€â”€ setup.sh               # ç¯å¢ƒåˆå§‹åŒ–
â”‚   â”œâ”€â”€ dev.sh                 # å¼€å‘å¯åŠ¨
â”‚   â””â”€â”€ build.sh               # æ„å»ºè„šæœ¬
â”‚
â”œâ”€â”€ docs/                       # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ DEPLOYMENT.md          # éƒ¨ç½²æŒ‡å—ï¼ˆè¯¦ç»†ï¼‰
â”‚   â””â”€â”€ DEVELOPMENT.md         # å¼€å‘æŒ‡å—ï¼ˆè¯¦ç»†ï¼‰
â”‚
â”œâ”€â”€ docker/                     # Docker é…ç½®
â”œâ”€â”€ docker-compose.yml          # å®Œæ•´éƒ¨ç½²é…ç½®
â”œâ”€â”€ docker-compose.services.yml # ä»…ä¾èµ–æœåŠ¡é…ç½®
â”œâ”€â”€ CLAUDE.md                   # Claude Code é¡¹ç›®æŒ‡å¼•
â””â”€â”€ README.md                   # æœ¬æ–‡æ¡£
```

**è¯¦ç»†ç»“æ„è¯´æ˜**ï¼š
- åç«¯å…± 75 ä¸ª Gradle æ¨¡å—ï¼Œé‡‡ç”¨åˆ†å±‚æ¶æ„
- å‰ç«¯é‡‡ç”¨åŸºäºé¡µé¢çš„ç»„ä»¶ç»„ç»‡æ–¹å¼
- è¯¦è§ï¼š[backend/README.md](backend/README.md) | [frontend/README.md](frontend/README.md)

---

## âš™ï¸ é…ç½®è¯´æ˜

### åç«¯é…ç½®æ–‡ä»¶

#### application.ymlï¼ˆåŸºç¡€é…ç½®ï¼‰

ä½¿ç”¨ç¯å¢ƒå˜é‡å ä½ç¬¦ï¼Œé€‚ç”¨äº Docker éƒ¨ç½²ï¼š

```yaml
spring:
  datasource:
    url: jdbc:${DB_TYPE:postgresql}://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_DATABASE:metapulse}
    username: ${DB_USERNAME:metapulse}
    password: ${DB_PASSWORD:metapulse}

kafka:
  bootstrap:
    servers: ${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}

elasticsearch:
  host: ${ELASTICSEARCH_HOST:localhost}
  port: ${ELASTICSEARCH_PORT:9200}
```

#### application-dev.ymlï¼ˆå¼€å‘é…ç½®ï¼‰

**ç¡¬ç¼–ç æœåŠ¡å™¨åœ°å€**ï¼Œç”¨äºæœ¬åœ°å¼€å‘ï¼š

```yaml
spring:
  datasource:
    url: jdbc:postgresql://47.80.65.112:5432/metapulse
    username: metapulse
    password: metapulse

kafka:
  bootstrap:
    servers: 47.80.65.112:9092

elasticsearch:
  host: 47.80.65.112
  port: 9200

# å¼€å‘ç¯å¢ƒå…³é—­è®¤è¯
authentication:
  enabled: false

# å¼€å¯è¯¦ç»†æ—¥å¿—
logging:
  level:
    com.linkedin: DEBUG
    org.springframework.web: DEBUG
```

**æ— éœ€ä¿®æ”¹é…ç½®**ï¼Œç›´æ¥ä½¿ç”¨ `--spring.profiles.active=dev` å¯åŠ¨å³å¯ã€‚

### å‰ç«¯ç¯å¢ƒå˜é‡

#### .env.developmentï¼ˆå¼€å‘ç¯å¢ƒï¼‰

```env
VITE_BACKEND_URL=http://localhost:8080
VITE_GRAPHQL_ENDPOINT=/api/graphql
VITE_APP_ENV=development
VITE_LOG_LEVEL=debug
```

#### .env.productionï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

```env
VITE_BACKEND_URL=
VITE_GRAPHQL_ENDPOINT=/api/graphql
VITE_APP_ENV=production
VITE_LOG_LEVEL=error
```

### Kafka åŒç›‘å¬å™¨é…ç½®

æ”¯æŒå®¹å™¨å†…é€šä¿¡å’Œå¤–éƒ¨è¿æ¥ï¼š

```yaml
KAFKA_ADVERTISED_LISTENERS: INTERNAL://kafka:29092,EXTERNAL://47.80.65.112:9092
KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: INTERNAL:PLAINTEXT,EXTERNAL:PLAINTEXT
KAFKA_INTER_BROKER_LISTENER_NAME: INTERNAL
KAFKA_LISTENERS: INTERNAL://0.0.0.0:29092,EXTERNAL://0.0.0.0:9092
```

| ç›‘å¬å™¨ | åœ°å€ | ç”¨é€” |
|--------|------|------|
| INTERNAL | kafka:29092 | Docker å®¹å™¨å†…é€šä¿¡ |
| EXTERNAL | 47.80.65.112:9092 | æœ¬åœ°å¼€å‘ç¯å¢ƒè¿æ¥ |

---

## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤

### å‰ç«¯å¼€å‘

```bash
cd frontend

yarn install          # å®‰è£…ä¾èµ–
yarn dev             # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
yarn build           # ç”Ÿäº§æ„å»º
yarn lint            # ä»£ç æ£€æŸ¥
yarn lint --fix      # è‡ªåŠ¨ä¿®å¤é—®é¢˜
yarn type-check      # ç±»å‹æ£€æŸ¥
yarn test            # è¿è¡Œæµ‹è¯•
yarn generate        # ç”Ÿæˆ GraphQL ç±»å‹
```

### åç«¯å¼€å‘

```bash
cd backend

./gradlew bootRun                    # å¯åŠ¨åº”ç”¨
./gradlew bootRun --args='--spring.profiles.active=dev'  # æŒ‡å®š profile
./gradlew build                      # å®Œæ•´æ„å»º
./gradlew build -x test              # æ„å»ºï¼ˆè·³è¿‡æµ‹è¯•ï¼‰
./gradlew test                       # è¿è¡Œæµ‹è¯•
./gradlew :metadata-service:war:test # è¿è¡Œç‰¹å®šæ¨¡å—æµ‹è¯•
./gradlew clean                      # æ¸…ç†æ„å»ºäº§ç‰©
```

### é›†æˆæ„å»º

```bash
./scripts/build.sh                   # å®Œæ•´æ„å»ºï¼ˆå‰ç«¯+åç«¯ï¼‰
./scripts/build.sh frontend-only     # ä»…æ„å»ºå‰ç«¯
./scripts/build.sh backend-only      # ä»…æ„å»ºåç«¯
./scripts/build.sh full skip-tests   # è·³è¿‡æµ‹è¯•çš„å®Œæ•´æ„å»º
```

### Docker æœåŠ¡ç®¡ç†

```bash
# ä»…ä¾èµ–æœåŠ¡
docker-compose -f docker-compose.services.yml up -d      # å¯åŠ¨
docker-compose -f docker-compose.services.yml ps         # æŸ¥çœ‹çŠ¶æ€
docker-compose -f docker-compose.services.yml logs -f    # æŸ¥çœ‹æ—¥å¿—
docker-compose -f docker-compose.services.yml stop       # åœæ­¢
docker-compose -f docker-compose.services.yml down       # åœæ­¢å¹¶åˆ é™¤å®¹å™¨

# å®Œæ•´éƒ¨ç½²
docker-compose up -d                 # å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose ps                    # æŸ¥çœ‹çŠ¶æ€
docker-compose logs -f metapulse     # æŸ¥çœ‹åº”ç”¨æ—¥å¿—
docker-compose restart metapulse     # é‡å¯åº”ç”¨
docker-compose down                  # åœæ­¢æ‰€æœ‰æœåŠ¡
docker-compose down -v               # åœæ­¢å¹¶åˆ é™¤æ•°æ®å·ï¼ˆâš ï¸ ä¼šåˆ é™¤æ•°æ®ï¼‰
```

---

## â“ å¸¸è§é—®é¢˜

### 1. æ— æ³•è¿æ¥åˆ°æœåŠ¡å™¨ä¾èµ–æœåŠ¡

**ç—‡çŠ¶**ï¼šæœ¬åœ°åº”ç”¨æ— æ³•è¿æ¥åˆ° 47.80.65.112

**è§£å†³æ–¹æ³•**ï¼š

```bash
# 1. æ£€æŸ¥æœåŠ¡å™¨é˜²ç«å¢™
ssh user@47.80.65.112
sudo firewall-cmd --list-ports  # åº”åŒ…å« 5432, 9092, 9200

# 2. æ£€æŸ¥æœåŠ¡çŠ¶æ€
docker-compose -f docker-compose.services.yml ps

# 3. æµ‹è¯•ç½‘ç»œè¿é€šæ€§
ping 47.80.65.112
telnet 47.80.65.112 5432
telnet 47.80.65.112 9092
telnet 47.80.65.112 9200
```

### 2. Kafka è¿æ¥å¤±è´¥

**ç—‡çŠ¶**ï¼š`Connection to node -1 could not be established`

**è§£å†³æ–¹æ³•**ï¼š

```bash
# æ£€æŸ¥ Kafka åŒç›‘å¬å™¨é…ç½®
docker-compose -f docker-compose.services.yml exec kafka \
  kafka-broker-api-versions --bootstrap-server localhost:29092

# é‡å¯ Kafka
docker-compose -f docker-compose.services.yml restart kafka
sleep 30

# æµ‹è¯•è¿æ¥
echo "test" | kcat -P -b 47.80.65.112:9092 -t test-topic
```

### 3. åç«¯å¯åŠ¨å¤±è´¥

**æ’æŸ¥æ­¥éª¤**ï¼š

```bash
# 1. æ£€æŸ¥ Java ç‰ˆæœ¬
java -version  # éœ€è¦ Java 17

# 2. éªŒè¯ä¾èµ–æœåŠ¡
psql -h 47.80.65.112 -U metapulse -d metapulse
curl http://47.80.65.112:9200
kcat -L -b 47.80.65.112:9092

# 3. æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ï¼ˆåœ¨ IDEA æ§åˆ¶å°ï¼‰
```

### 4. å‰ç«¯ä»£ç†å¤±è´¥

**ç—‡çŠ¶**ï¼šGraphQL è¯·æ±‚ `ERR_CONNECTION_REFUSED`

**è§£å†³æ–¹æ³•**ï¼š

```bash
# 1. ç¡®è®¤åç«¯è¿è¡Œ
curl http://localhost:8080/actuator/health

# 2. æ£€æŸ¥å‰ç«¯é…ç½®
cat frontend/.env.development
# åº”åŒ…å«: VITE_BACKEND_URL=http://localhost:8080

# 3. é‡å¯å‰ç«¯æœåŠ¡å™¨
cd frontend
yarn dev
```

### 5. å‰ç«¯æ„å»ºå¤±è´¥

```bash
cd frontend
rm -rf node_modules yarn.lock .cache
yarn install
yarn build
```

### 6. é™æ€èµ„æº 404

```bash
# æ„å»ºå‰ç«¯å¹¶å¤åˆ¶åˆ°åç«¯
cd frontend && yarn build && cd ..
cd backend && ./gradlew :metadata-service:war:copyFrontendDist

# éªŒè¯
ls -la backend/metadata-service/war/src/main/resources/static/
```

---

## ğŸ“š æ–‡æ¡£ç´¢å¼•

### æ ¸å¿ƒæ–‡æ¡£

- **[åç«¯å¼€å‘æŒ‡å—](backend/README.md)** - Gradle æ¨¡å—ã€PDL ç¼–è¯‘ã€All-in-One æ¶æ„
- **[å‰ç«¯å¼€å‘æŒ‡å—](frontend/README.md)** - React ç»„ä»¶ã€GraphQLã€æ ·å¼è§„èŒƒ
- **[éƒ¨ç½²æŒ‡å—](docs/DEPLOYMENT.md)** - è¯¦ç»†çš„éƒ¨ç½²æ­¥éª¤å’Œæ•…éšœæ’æŸ¥
- **[å¼€å‘æŒ‡å—](docs/DEVELOPMENT.md)** - è¯¦ç»†çš„å¼€å‘æµç¨‹å’Œæœ€ä½³å®è·µ
- **[CLAUDE.md](CLAUDE.md)** - Claude Code AI åŠ©æ‰‹é¡¹ç›®æŒ‡å¼•

### å¤–éƒ¨å‚è€ƒ

- [DataHub å®˜æ–¹æ–‡æ¡£](https://datahubproject.io/docs/)
- [Spring Boot æ–‡æ¡£](https://spring.io/projects/spring-boot)
- [React æ–‡æ¡£](https://reactjs.org/)
- [Vite æ–‡æ¡£](https://vitejs.dev/)
- [GraphQL æ–‡æ¡£](https://graphql.org/)

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

### ä»£ç è§„èŒƒ

- **Java**ï¼šéµå¾ª [Google Java Style Guide](https://google.github.io/styleguide/javaguide.html)
- **TypeScript/React**ï¼šéµå¾ª [Airbnb JavaScript Style Guide](https://github.com/airbnb/javascript)
- **Git Commit**ï¼šä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒ

### æäº¤æµç¨‹

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼š`git checkout -b feature/amazing-feature`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'feat: add amazing feature'`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/amazing-feature`
5. åˆ›å»º Pull Request

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº DataHub è¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼Œç»§æ‰¿ [Apache 2.0 è®¸å¯è¯](LICENSE)ã€‚

---

## ğŸ“§ è”ç³»æ–¹å¼

- **é—®é¢˜åé¦ˆ**ï¼š[GitHub Issues](https://github.com/your-org/metapulse/issues)
- **é¡¹ç›®ä¸»é¡µ**ï¼š[GitHub Repository](https://github.com/your-org/metapulse)

---

<p align="center">
  <b>MetaPulse Team</b> - è®©æ•°æ®æ²»ç†æ›´ç®€å• ğŸš€
</p>